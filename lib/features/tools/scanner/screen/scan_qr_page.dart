import 'package:flutter/material.dart';import 'package:mobile_scanner/mobile_scanner.dart';class QrScannerPage extends StatefulWidget {  const QrScannerPage({Key? key}) : super(key: key);  @override  State<QrScannerPage> createState() => _QrScannerPageState();}class _QrScannerPageState extends State<QrScannerPage> {  String? scannedData;  bool isScannerActive = true;  final MobileScannerController controller = MobileScannerController();  Key scannerKey = UniqueKey();  void _onDetect(BarcodeCapture capture) {    final barcode = capture.barcodes.first;    final String? value = barcode.rawValue;    if (value != null && isScannerActive) {      setState(() {        scannedData = value;        isScannerActive = false;      });      controller.stop();    }  }  @override  void dispose() {    controller.dispose();    super.dispose();  }  @override  Widget build(BuildContext context) {    return Scaffold(      body: isScannerActive          ? MobileScanner(        key: scannerKey, // ðŸ‘ˆ Force widget rebuild        controller: controller,        onDetect: _onDetect,      )          : SafeArea(        child: Container(          width: double.infinity,          height: double.infinity,          color: Colors.white,          padding: const EdgeInsets.all(16),          child: Column(            mainAxisAlignment: MainAxisAlignment.center,            children: [              const Text(                "Scanned Data:",                style: TextStyle(fontSize: 20, fontWeight: FontWeight.bold),              ),              const SizedBox(height: 20),              Text(                scannedData ?? '',                textAlign: TextAlign.center,                style: const TextStyle(fontSize: 18, color: Colors.black87),              ),            ],          ),        ),      ),    );  }}